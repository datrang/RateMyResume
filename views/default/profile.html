{{extend 'layout.html'}}

{{block head}}
<script src="{{URL('static','js/vue.js')}}"></script>
<script src="https://www.gstatic.com/firebasejs/5.7.0/firebase.js"></script>
<link href="../static/css/stupid.css" rel="stylesheet" type="text/css"/>
<link href="../static/css/myapp.css" rel="stylesheet" type="text/css"/>
<link href="../static/css/custom.css" rel="stylesheet" type="text/css"/>
{{end}}

<!DOCTYPE html>
<html lang="en">
<div id = "loading">
  <img src="https://firebasestorage.googleapis.com/v0/b/resume-rater.appspot.com/o/luca.jpg?alt=media&token=93c171a2-5170-4912-9cf7-69d5517f7290" alt="">
</div>
<div id = "doneLoading">
  <div class="navbar">
    <a id="homeTab" onClick="location.href='index';">Home</a>
    <a id="hubTab" onClick="location.href='hub';">Home</a>
    <a id="rateTab" onClick="location.href='rateresume';">Rate A Resume</a>
    <a id="profileTab" onClick="location.href='profile';">Profile</a>
    <a id="loginTab" onClick="location.href='login';" >Login</a>
  </div>
  <div class="main_content">
      <div id="vue-div" class="display:none">
          <div id="resume_upload">
            <h1>Resume Upload</h1>
            <input type="file" id="uploader" accept="application/pdf">
            <button type="button" @click="uploadResume">Upload Resume</button>
          </div>
          <div id="resume_download">
            <h1>Resume View</h1>
            <button type="button" @click="showResume">Show Resume</button>
            <ul id="resume_list"></ul>
          </div>
          <h1>Profile</h1>
          <div>
            <h3 id ="profileRating"></h3>
          </div>
          <div id = "need_auth">
            <h3>Please Authorize Your Account To Continue</h3>
            <input type="text" id = "authEmail" placeholder="Email">
            <input type="text" id = "authPassword" placeholder="Password">
            <button type="button" name="authorize" @click = reauthenticate> Authorize</button>
          </div>
          <!-- change the view of the box if they press the update email button -->
          <h4 id="email"></h4>
          <div id = "update_email_button">
            <button type="button" name="updateEmail" @click = "show_email_fields">Update Email</button>
          </div>
          <!-- edit your main email with cancel button -->
          <div id = "update_email_field">
            <input type="text" id = "newEmail" placeholder="Email">
            <button type="button" name="updateEmail" @click = "updateEmail">Update Email</button>
            <button type="button" name="cancel" @click = "show_email_button">Cancel</button>
          </div>
          <!-- open field to change password -->
          <div id = "update_password_button">
            <button type="button" name="updatePassword" @click = "show_password_fields">Update Password</button>
          </div>
          <div id = "update_password_field">
            <input type="text" id = "newPassword" placeholder=" New Password">
            <input type="text" id = "confirmPassword" placeholder="Confirm New Password">
            <button type="button" name="updatePassword" @click = "updatePassword">Update Password</button>
            <button type="button" name="cancel" @click = "show_password_fields">Cancel</button>
          </div>
          <h4 id = "name"></h4>
          <div id = "update_name_button">
            <button type="button" name="updateProfile" @click = "show_name_fields">Update Profile</button>
          </div>
          <div id = "update_name_field">
            <input type="text" id = "newName" placeholder="Name">
            <button type="button" name="updateProfile" @click = "updateProfile">Update Profile</button>
            <button type="button" name="cancel" @click = "show_name_fields"> Cancel</button>
          </div>
          <button type="button" name="delete" @click = "deleteUser"> Delete Account</button>
          <button type="button" name="signOut" @click = "signOut">Sign Out</button>
          <h3 id = "profileSuccess">Success Message</h3>
          <h3 id = "profileError">Error Message </h3>
      </div>
  </div>
</div>

<script src="{{=URL('static', 'js/login.js')}}"></script>
